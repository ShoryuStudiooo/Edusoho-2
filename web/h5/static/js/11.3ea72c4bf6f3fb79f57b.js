webpackJsonp([11],{YZ0n:function(e,t,o){var n;window,n=function(){return n={},r.m=o=[function(e,t,o){var n=o(2);"string"==typeof n&&(n=[[e.i,n,""]]);o(4)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},function(e,t,o){"use strict";var n=o(0);o.n(n).a},function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(o){var a=[];return a.toString=function(){return this.map(function(e){var t=function(e,t){var o,n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}(e,o);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(o[r]=!0)}for(n=0;n<e.length;n++){var i=e[n];"number"==typeof i[0]&&o[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}},function(e,t,n){var r,o,c={},i=function(){return void 0===o&&(o=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),o},a=(r={},function(e,t){if("function"==typeof e)return e();if(void 0===r[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}r[e]=o}return r[e]}),h=null,p=0,s=[],u=n(5);function l(e,t){for(var o=0;o<e.length;o++){var n=e[o],r=c[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(w(n.parts[i],t))}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(w(n.parts[i],t));c[n.id]={id:n.id,refs:1,parts:a}}}}function d(e,t){for(var o=[],n={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):o.push(n[a]={id:a,parts:[s]})}return o}function f(e,t){var o=a(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=s[s.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),s.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertAt.before,o);o.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=s.indexOf(e);0<=t&&s.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=n.nc;o&&(e.attrs.nonce=o)}return m(t,e.attrs),f(e,t),t}function m(t,o){Object.keys(o).forEach(function(e){t.setAttribute(e,o[e])})}function w(t,e){var o,n,r,i,a,s;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var c=p++;o=h=h||v(e),n=b.bind(null,o,c,!1),r=b.bind(null,o,c,!0)}else r=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=e,s=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",m(s,a.attrs),f(a,s),n=function(e,t,o){var n=o.css,r=o.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(n=u(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,o=s,e),function(){g(o),o.href&&URL.revokeObjectURL(o.href)}):(o=v(e),n=function(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),function(){g(o)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=i()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=d(e,a);return l(s,a),function(e){for(var t=[],o=0;o<s.length;o++){var n=s[o];(r=c[n.id]).refs--,t.push(r)}for(e&&l(d(e,a),a),o=0;o<t.length;o++){var r;if(0===(r=t[o]).refs){for(var i=0;i<r.parts.length;i++)r.parts[i]();delete c[r.id]}}}};var x,C=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function b(e,t,o,n){var r=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=C(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,i=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,n=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?e:(o=0===n.indexOf("//")?n:0===n.indexOf("/")?r+n:i+n.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,o){"use strict";o.r(t);function n(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:t.scaleImg,mouseout:t.cancleScale}},[o("div",{staticClass:"cropper-box"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}},[o("img",{ref:"cropperImg",attrs:{src:t.imgs,alt:"cropper-img"}})])]),t._v(" "),o("div",{staticClass:"cropper-drag-box",class:{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping},on:{mousedown:t.startMove,touchstart:t.startMove}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"}},[o("span",{staticClass:"cropper-view-box"},[o("img",{style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"},attrs:{src:t.imgs,alt:"cropper-img"}})]),t._v(" "),o("span",{staticClass:"cropper-face cropper-move",on:{mousedown:t.cropMove,touchstart:t.cropMove}}),t._v(" "),t.info?o("span",{staticClass:"crop-info",style:{top:t.cropInfo.top}},[t._v("\n          "+t._s(this.cropInfo.width)+" × "+t._s(this.cropInfo.height)+"\n        ")]):t._e(),t._v(" "),t.fixedBox?t._e():o("span",[o("span",{staticClass:"crop-line line-w",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),o("span",{staticClass:"crop-line line-a",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),o("span",{staticClass:"crop-line line-s",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),o("span",{staticClass:"crop-line line-d",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),o("span",{staticClass:"crop-point point1",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,1)}}}),t._v(" "),o("span",{staticClass:"crop-point point2",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),o("span",{staticClass:"crop-point point3",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,1)}}}),t._v(" "),o("span",{staticClass:"crop-point point4",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),o("span",{staticClass:"crop-point point5",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),o("span",{staticClass:"crop-point point6",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,2)}}}),t._v(" "),o("span",{staticClass:"crop-point point7",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),o("span",{staticClass:"crop-point point8",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,2)}}})])])])}n._withStripped=!0;var r={};r.getData=function(n){return new Promise(function(e,t){var a,s,o={};(a=n,s=null,new Promise(function(t,e){if(a.src)if(/^data\:/i.test(a.src))s=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),o=t.length,n=new ArrayBuffer(o),r=new Uint8Array(n),i=0;i<o;i++)r[i]=t.charCodeAt(i);return n}(a.src),t(s);else if(/^blob\:/i.test(a.src)){var o=new FileReader;o.onload=function(e){s=e.target.result,t(s)},r=a.src,(i=new XMLHttpRequest).open("GET",r,!0),i.responseType="blob",i.onload=function(e){200!=this.status&&0!==this.status||function(e){o.readAsArrayBuffer(e)}(this.response)},i.send()}else{var n=new XMLHttpRequest;n.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";s=n.response,t(s),n=null},n.open("GET",a.src,!0),n.responseType="arraybuffer",n.send(null)}else e("img error");var r,i})).then(function(u){o.arrayBuffer=u,o.orientation=function(){var e,t,o,n,r,i,a,s,c,h=new DataView(u),p=h.byteLength;if(255===h.getUint8(0)&&216===h.getUint8(1))for(s=2;s<p;){if(255===h.getUint8(s)&&225===h.getUint8(s+1)){i=s;break}s++}if(i&&(t=i+10,"Exif"===function(e,t,o){var n,r="";for(o+=n=t;n<o;n++)r+=String.fromCharCode(e.getUint8(n));return r}(h,i+4,4)&&(((n=18761===(r=h.getUint16(t)))||19789===r)&&42===h.getUint16(t+2,n)&&8<=(o=h.getUint32(t+4,n))&&(a=t+o))),a)for(p=h.getUint16(a,n),c=0;c<p;c++)if(s=a+12*c+2,274===h.getUint16(s,n)){s+=8,e=h.getUint16(s,n);break}return e}(),e(o)}).catch(function(e){t(e)})})};var a=r,i={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:""}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:Number,default:0},autoCropHeight:{type:Number,default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3},enlarge:{type:[Number,String],default:1}},computed:{cropInfo:function(){var e={};if(e.top=21<this.cropOffsertY?"-21px":"0px",e.width=0<this.cropW?this.cropW:0,e.height=0<this.cropH?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){var e=navigator.userAgent;return-1<e.indexOf("compatible")&&-1<e.indexOf("MSIE")}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.cropW=this.cropW,this.showPreview()},cropH:function(){this.cropH=this.cropH,this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},rotate:function(){this.showPreview(),this.autoCrop&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{checkOrientationImage:function(e,t,o,n){var r=this,i=document.createElement("canvas"),a=i.getContext("2d");switch(a.save(),t){case 2:i.width=o,i.height=n,a.translate(o,0),a.scale(-1,1);break;case 3:i.width=o,i.height=n,a.translate(o/2,n/2),a.rotate(180*Math.PI/180),a.translate(-o/2,-n/2);break;case 4:i.width=o,i.height=n,a.translate(0,n),a.scale(1,-1);break;case 5:i.height=o,i.width=n,a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:i.width=n,i.height=o,a.translate(n/2,o/2),a.rotate(90*Math.PI/180),a.translate(-o/2,-n/2);break;case 7:i.height=o,i.width=n,a.rotate(.5*Math.PI),a.translate(o,-n),a.scale(-1,1);break;case 8:i.height=o,i.width=n,a.translate(n/2,o/2),a.rotate(-90*Math.PI/180),a.translate(-o/2,-n/2);break;default:i.width=o,i.height=n}a.drawImage(e,0,0,o,n),a.restore(),i.toBlob(function(e){var t=URL.createObjectURL(e);r.imgs=t},"image/"+this.outputType,1)},checkedImg:function(){var r=this;if(""!==this.img){this.loading=!0,this.scale=1,this.clearCrop();var i=new Image;if(i.onload=function(){if(""===r.img)return r.$emit("imgLoad","error"),!1;var o=i.width,n=i.height;a.getData(i).then(function(e){r.orientation=e.orientation||1;var t=r.maxImgSize;!r.orientation&&o<t&n<t?r.imgs=r.img:(t<o&&(n=n/o*t,o=t),t<n&&(o=o/n*t,n=t),r.checkOrientationImage(i,r.orientation,o,n))})},i.onerror=function(){r.$emit("imgLoad","error")},i.crossOrigin="",this.isIE){var e=new XMLHttpRequest;e.onload=function(){var e=URL.createObjectURL(this.response);i.src=e},e.open("GET",this.img,!0),e.responseType="blob",e.send()}else i.src=this.img}},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(e.clientX?e.clientX:e.touches[0].clientX)-this.x,this.moveY=(e.clientY?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var o=this.scale,n=this.touches[0].clientX,r=this.touches[0].clientY,i=e.touches[0].clientX,a=e.touches[0].clientY,s=this.touches[1].clientX,c=this.touches[1].clientY,h=e.touches[1].clientX,p=e.touches[1].clientY,u=Math.sqrt(Math.pow(n-s,2)+Math.pow(r-c,2)),l=Math.sqrt(Math.pow(i-h,2)+Math.pow(a-p,2))-u,d=1,f=(d=.1<(d=d/this.trueWidth>d/this.trueHeight?d/this.trueHeight:d/this.trueWidth)?.1:d)*l;if(!this.touchNow){if(this.touchNow=!0,0<l?o+=Math.abs(f):l<0&&o>Math.abs(f)&&(o-=Math.abs(f)),this.touches=e.touches,setTimeout(function(){t.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o}},cancleTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var c=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var h,p,t=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY;h=t-this.moveX,p=o-this.moveY,this.$nextTick(function(){if(c.centerBox){var e,t,o,n,r=c.getImgAxis(h,p,c.scale),i=c.getCropAxis(),a=c.trueHeight*c.scale,s=c.trueWidth*c.scale;switch(c.rotate){case 1:case-1:case 3:case-3:e=c.cropOffsertX-c.trueWidth*(1-c.scale)/2+(a-s)/2,t=c.cropOffsertY-c.trueHeight*(1-c.scale)/2+(s-a)/2,o=e-a+c.cropW,n=t-s+c.cropH;break;default:e=c.cropOffsertX-c.trueWidth*(1-c.scale)/2,t=c.cropOffsertY-c.trueHeight*(1-c.scale)/2,o=e-s+c.cropW,n=t-a+c.cropH}r.x1>=i.x1&&(h=e),r.y1>=i.y1&&(p=t),r.x2<=i.x2&&(h=o),r.y2<=i.y2&&(p=n)}c.x=h,c.y=p,c.$emit("imgMoving",{moving:!0,axis:c.getImgAxis()})})},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize)},cancleScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var o=this.scale,n=e.deltaY||e.wheelDelta;n=0<navigator.userAgent.indexOf("Firefox")?30*n:n,this.isIE&&(n=-n);var r=this.coe,i=(r=r/this.trueWidth>r/this.trueHeight?r/this.trueHeight:r/this.trueWidth)*n;i<0?o+=Math.abs(i):o>Math.abs(i)&&(o-=Math.abs(i));var a=i<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(function(){t.scaling=!1,t.coe=t.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o},changeScale:function(e){var t=this.scale;e=e||1;var o=20;if(0<(e*=o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth)?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var n=this;e.preventDefault();var r=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,i=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick(function(){var e=r-n.cropX,t=i-n.cropY;if(0<e?(n.cropW=e+n.cropChangeX>n.w?n.w-n.cropChangeX:e,n.cropOffsertX=n.cropChangeX):(n.cropW=n.w-n.cropChangeX+Math.abs(e)>n.w?n.cropChangeX:Math.abs(e),n.cropOffsertX=0<n.cropChangeX+e?n.cropChangeX+e:0),n.fixed){var o=n.cropW/n.fixedNumber[0]*n.fixedNumber[1];o+n.cropOffsertY>n.h?(n.cropH=n.h-n.cropOffsertY,n.cropW=n.cropH/n.fixedNumber[1]*n.fixedNumber[0],n.cropOffsertX=0<e?n.cropChangeX:n.cropChangeX-n.cropW):n.cropH=o,n.cropOffsertY=n.cropOffsertY}else 0<t?(n.cropH=t+n.cropChangeY>n.h?n.h-n.cropChangeY:t,n.cropOffsertY=n.cropChangeY):(n.cropH=n.h-n.cropChangeY+Math.abs(t)>n.h?n.cropChangeY:Math.abs(t),n.cropOffsertY=0<n.cropChangeY+t?n.cropChangeY+t:0)})},changeCropSize:function(e,t,o,n,r){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=o,this.changeCropTypeX=n,this.changeCropTypeY=r,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0)},changeCropNow:function(e){var r=this;e.preventDefault();var i=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,a=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0,s=this.w,c=this.h,h=0,p=0;if(this.centerBox){var t=this.getImgAxis(),o=t.x2,n=t.y2;h=0<t.x1?t.x1:0,p=0<t.y1?t.y1:0,o<s&&(s=o),n<c&&(c=n)}this.$nextTick(function(){var e=i-r.cropX,t=a-r.cropY;if(r.canChangeX&&(1===r.changeCropTypeX?0<r.cropOldW-e?(r.cropW=s-r.cropChangeX-e<=s-h?r.cropOldW-e:r.cropOldW+r.cropChangeX-h,r.cropOffsertX=s-r.cropChangeX-e<=s-h?r.cropChangeX+e:h):(r.cropW=Math.abs(e)+r.cropChangeX<=s?Math.abs(e)-r.cropOldW:s-r.cropOldW-r.cropChangeX,r.cropOffsertX=r.cropChangeX+r.cropOldW):2===r.changeCropTypeX&&(0<r.cropOldW+e?(r.cropW=r.cropOldW+e+r.cropOffsertX<=s?r.cropOldW+e:s-r.cropOffsertX,r.cropOffsertX=r.cropChangeX):(r.cropW=s-r.cropChangeX+Math.abs(e+r.cropOldW)<=s-h?Math.abs(e+r.cropOldW):r.cropChangeX-h,r.cropOffsertX=s-r.cropChangeX+Math.abs(e+r.cropOldW)<=s-h?r.cropChangeX-Math.abs(e+r.cropOldW):h))),r.canChangeY&&(1===r.changeCropTypeY?0<r.cropOldH-t?(r.cropH=c-r.cropChangeY-t<=c-p?r.cropOldH-t:r.cropOldH+r.cropChangeY-p,r.cropOffsertY=c-r.cropChangeY-t<=c-p?r.cropChangeY+t:p):(r.cropH=Math.abs(t)+r.cropChangeY<=c?Math.abs(t)-r.cropOldH:c-r.cropOldH-r.cropChangeY,r.cropOffsertY=r.cropChangeY+r.cropOldH):2===r.changeCropTypeY&&(0<r.cropOldH+t?(r.cropH=r.cropOldH+t+r.cropOffsertY<=c?r.cropOldH+t:c-r.cropOffsertY,r.cropOffsertY=r.cropChangeY):(r.cropH=c-r.cropChangeY+Math.abs(t+r.cropOldH)<=c-p?Math.abs(t+r.cropOldH):r.cropChangeY-p,r.cropOffsertY=c-r.cropChangeY+Math.abs(t+r.cropOldH)<=c-p?r.cropChangeY-Math.abs(t+r.cropOldH):p))),r.canChangeX&&r.fixed){var o=r.cropW/r.fixedNumber[0]*r.fixedNumber[1];o+r.cropOffsertY>c?(r.cropH=c-r.cropOffsertY,r.cropW=r.cropH/r.fixedNumber[1]*r.fixedNumber[0]):r.cropH=o}if(r.canChangeY&&r.fixed){var n=r.cropH/r.fixedNumber[1]*r.fixedNumber[0];n+r.cropOffsertX>s?(r.cropW=s-r.cropOffsertX,r.cropH=r.cropW/r.fixedNumber[0]*r.fixedNumber[1]):r.cropW=n}})},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,o,n=e.clientX?e.clientX:e.touches[0].clientX,r=e.clientY?e.clientY:e.touches[0].clientY;t=n-this.cropOffsertX,o=r-this.cropOffsertY,this.cropX=t,this.cropY=o,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,i){var a=this,s=0,c=0;e&&(e.preventDefault(),s=e.clientX?e.clientX:e.touches[0].clientX,c=e.clientY?e.clientY:e.touches[0].clientY),this.$nextTick(function(){var e,t,o=s-a.cropX,n=c-a.cropY;if(i&&(o=a.cropOffsertX,n=a.cropOffsertY),e=o<=0?0:o+a.cropW>a.w?a.w-a.cropW:o,t=n<=0?0:n+a.cropH>a.h?a.h-a.cropH:n,a.centerBox){var r=a.getImgAxis();e<=r.x1&&(e=r.x1),e+a.cropW>r.x2&&(e=r.x2-a.cropW),t<=r.y1&&(t=r.y1),t+a.cropH>r.y2&&(t=r.y2-a.cropH)}a.cropOffsertX=e,a.cropOffsertY=t,a.$emit("cropMoving",{moving:!0,axis:a.getCropAxis()})})},getImgAxis:function(e,t,o){e=e||this.x,t=t||this.y,o=o||this.scale;var n={x1:0,x2:0,y1:0,y2:0},r=this.trueWidth*o,i=this.trueHeight*o;switch(this.rotate){case 0:n.x1=e+this.trueWidth*(1-o)/2,n.x2=n.x1+this.trueWidth*o,n.y1=t+this.trueHeight*(1-o)/2,n.y2=n.y1+this.trueHeight*o;break;case 1:case-1:case 3:case-3:n.x1=e+this.trueWidth*(1-o)/2+(r-i)/2,n.x2=n.x1+this.trueHeight*o,n.y1=t+this.trueHeight*(1-o)/2+(i-r)/2,n.y2=n.y1+this.trueWidth*o;break;default:n.x1=e+this.trueWidth*(1-o)/2,n.x2=n.x1+this.trueWidth*o,n.y1=t+this.trueHeight*(1-o)/2,n.y2=n.y1+this.trueHeight*o}return n},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(u){var l=this,d=document.createElement("canvas"),f=new Image,g=this.rotate,v=this.trueWidth,m=this.trueHeight,w=this.cropOffsertX,x=this.cropOffsertY;function C(e,t){d.width=Math.round(e),d.height=Math.round(t)}f.onload=function(){if(0!==l.cropW){var e=d.getContext("2d"),t=1;l.high&!l.full&&(t=window.devicePixelRatio),1!==l.enlarge&!l.full&&(t=Math.abs(Number(l.enlarge)));var o=l.cropW*t,n=l.cropH*t,r=v*l.scale*t,i=m*l.scale*t,a=(l.x-w+l.trueWidth*(1-l.scale)/2)*t,s=(l.y-x+l.trueHeight*(1-l.scale)/2)*t;switch(C(o,n),e.save(),g){case 0:l.full?(C(o/l.scale,n/l.scale),e.drawImage(f,a/l.scale,s/l.scale,r/l.scale,i/l.scale)):e.drawImage(f,a,s,r,i);break;case 1:case-3:l.full?(C(o/l.scale,n/l.scale),a=a/l.scale+(r/l.scale-i/l.scale)/2,s=s/l.scale+(i/l.scale-r/l.scale)/2,e.rotate(90*g*Math.PI/180),e.drawImage(f,s,-a-i/l.scale,r/l.scale,i/l.scale)):(a+=(r-i)/2,s+=(i-r)/2,e.rotate(90*g*Math.PI/180),e.drawImage(f,s,-a-i,r,i));break;case 2:case-2:l.full?(C(o/l.scale,n/l.scale),e.rotate(90*g*Math.PI/180),a/=l.scale,s/=l.scale,e.drawImage(f,-a-r/l.scale,-s-i/l.scale,r/l.scale,i/l.scale)):(e.rotate(90*g*Math.PI/180),e.drawImage(f,-a-r,-s-i,r,i));break;case 3:case-1:l.full?(C(o/l.scale,n/l.scale),a=a/l.scale+(r/l.scale-i/l.scale)/2,s=s/l.scale+(i/l.scale-r/l.scale)/2,e.rotate(90*g*Math.PI/180),e.drawImage(f,-s-r/l.scale,a,r/l.scale,i/l.scale)):(a+=(r-i)/2,s+=(i-r)/2,e.rotate(90*g*Math.PI/180),e.drawImage(f,-s-r,a,r,i));break;default:l.full?(C(o/l.scale,n/l.scale),e.drawImage(f,a/l.scale,s/l.scale,r/l.scale,i/l.scale)):e.drawImage(f,a,s,r,i)}e.restore()}else{var c=v*l.scale,h=m*l.scale,p=d.getContext("2d");switch(p.save(),g){case 0:C(c,h),p.drawImage(f,0,0,c,h);break;case 1:case-3:C(h,c),p.rotate(90*g*Math.PI/180),p.drawImage(f,0,-h,c,h);break;case 2:case-2:C(c,h),p.rotate(90*g*Math.PI/180),p.drawImage(f,-c,-h,c,h);break;case 3:case-1:C(h,c),p.rotate(90*g*Math.PI/180),p.drawImage(f,-c,0,c,h);break;default:C(c,h),p.drawImage(f,0,0,c,h)}p.restore()}u(d)},"data"!==this.img.substr(0,4)&&(f.crossOrigin="Anonymous"),f.src=this.imgs},getCropData:function(t){var o=this;this.getCropChecked(function(e){t(e.toDataURL("image/"+o.outputType,o.outputSize))})},getCropBlob:function(t){var o=this;this.getCropChecked(function(e){e.toBlob(function(e){return t(e)},"image/"+o.outputType,o.outputSize)})},showPreview:function(){var e={};e.div={width:this.cropW+"px",height:this.cropH+"px"},e.img={width:this.trueWidth+"px",height:this.trueHeight+"px",transform:"scale("+this.scale+","+this.scale+") translate3d("+(this.x-this.cropOffsertX)/this.scale+"px,"+(this.y-this.cropOffsertY)/this.scale+"px,0)rotateZ("+90*this.rotate+"deg)"},e.w=this.cropW,e.h=this.cropH,e.url=this.imgs,this.$emit("realTime",e)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:(e.trueWidth>e.w&&(e.scale=e.w/e.trueWidth),e.trueHeight*e.scale>e.h&&(e.scale=e.h/e.trueHeight)),e.$nextTick(function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("imgLoad","success")})},t.onerror=function(){e.$emit("imgLoad","error")},t.src=this.imgs},goAutoCrop:function(e,t){this.clearCrop(),this.cropping=!0;var o=this.w,n=this.h;if(this.centerBox){var r=this.trueWidth*this.scale,i=this.trueHeight*this.scale;o=r<o?r:o,n=i<n?i:n}var a=e||this.autoCropWidth,s=t||this.autoCropHeight;0!==a&&0!==s||(a=.8*o,s=.8*n),a=o<a?o:a,s=n<s?n:s,this.fixed&&(s=a/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(a=(s=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(a,s)},changeCrop:function(e,t){var o=this;this.cropW=e,this.cropH=t,this.cropOffsertX=(this.w-e)/2,this.cropOffsertY=(this.h-t)/2,this.centerBox&&this.$nextTick(function(){o.moveCrop(null,!0)})},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick(function(){e.checkedImg()})},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=3<=this.rotate?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,o){e=e||this.x,t=t||this.y,o=o||this.scale;var n=!0;if(this.centerBox){var r=this.getImgAxis(e,t,o),i=this.getCropAxis();r.x1>=i.x1&&(n=!1),r.x2<=i.x2&&(n=!1),r.y1>=i.y1&&(n=!1),r.y2<=i.y2&&(n=!1)}return n}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var s=this,e=navigator.userAgent;this.isIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,o){for(var n=atob(this.toDataURL(t,o).split(",")[1]),r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);e(new Blob([i],{type:s.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}};o(1);var s=function(e,t,o,n,r,i){var a,s="function"==typeof e?e.options:e;if(s.render=t,s.staticRenderFns=[],s._compiled=!0,s._scopeId="data-v-"+i,a)if(s.functional){s._injectStyles=a;var c=s.render;s.render=function(e,t){return a.call(t),c(e,t)}}else{var h=s.beforeCreate;s.beforeCreate=h?[].concat(h,a):[a]}return{exports:e,options:s}}(i,n,0,0,0,"6dae58fd");s.options.__file="src/vue-cropper.vue";var c=s.exports;o.d(t,"VueCropper",function(){return c});function h(e){e.component("VueCropper",c)}"undefined"!=typeof window&&window.Vue&&h(window.Vue),t.default={version:"0.4.5",install:h,VueCropper:c}}],r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6);function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o,n},e.exports=n()},odi1:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o("XmAh");var n=o("il3B"),i=(o("eqfM"),o("/QYm")),r=o("Dd8w"),a=o.n(r),s=o("NYxO"),c=o("gyMJ"),h=o("Du/2"),p=(o("IcnI"),o("YZ0n")),u={components:{VueCropper:p.VueCropper},data:function(){return{settings:[{name:"头像",info:""},{name:"用户名",info:""}],dialogVisible:!1,imageCropped:!1,option:{img:"",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedNumber:[1,1],fixed:!0,high:!1,enlarge:2}}},computed:a()({},Object(s.mapState)({user:function(e){return e.user},isLoading:function(e){return e.isLoading}})),created:function(){this.$set(this.settings[0],"info",this.user.avatar.large),this.$set(this.settings[1],"info",this.user.nickname)},methods:a()({},Object(s.mapActions)(["setAvatar"]),{handleSetting:function(e){switch(e){case 0:break;case 1:this.$router.push({name:"setting_nickname",query:{nickname:""==this.user.nickname?"":this.user.nickname}});break;case 2:Object(i.a)("更改手机号，后续开通")}},logout:function(){var e=this;n.a.confirm({title:"退出登录",message:"确定要退出登录吗？"}).then(function(){e.$store.commit(h.r,{token:"",user:{}}),e.$router.push({name:"my"})})},stopCropFn:function(){var t=this,e=this.$refs.cropper[0];e.stopCrop(),this.dialogVisible=!1,e.getCropData(function(e){t.imageCropped=!0,t.uploadImg(e),t.option.img=e})},beforeUpload:function(e){var t=this,o=e.type,n=e.size/1024/1024;if(-1!==o.indexOf("image"))if(2<n)i.a.fail("文件大小不得超过 2 MB");else{this.dialogVisible=!0;var r=new FileReader;r.onload=function(){t.option.img=r.result},r.readAsDataURL(e)}else i.a.fail("文件类型仅支持图片格式")},uploadImg:function(t){var o=this;if(this.imageCropped){this.imageCropped=!1;var e=new FormData;e.append("file",t),e.append("group","user"),c.a.updateFile({data:e}).then(function(e){o.$set(o.settings[0],"info",t.content),o.setAvatar({avatarId:e.id}).then(function(){i.a.success("修改成功")}).catch(function(e){i.a.fail(e.message)})}).catch(function(e){i.a.fail(e.message)})}}})},l={render:function(){var o=this,e=o.$createElement,n=o._self._c||e;return n("div",{staticClass:"my_setting"},[o.isLoading?n("e-loading"):o._e(),o._v(" "),o._l(o.settings,function(e,t){return n("div",{staticClass:"my_setting-item",on:{click:function(e){o.handleSetting(t)}}},[n("span",{staticClass:"my_setting-title title-18"},[o._v(o._s(e.name))]),o._v(" "),n("div",{staticClass:"my_setting-content"},[t?o._e():n("img",{staticClass:"my_setting-avatar",attrs:{src:e.info||o.option.img,alt:""}}),o._v(" "),t?n("span",[o._v(o._s(e.info))]):o._e(),o._v(" "),n("img",{staticClass:"my_setting-more",attrs:{src:"static/images/more.png",alt:""}})]),o._v(" "),t?o._e():n("van-uploader",{attrs:{"before-read":o.beforeUpload}},[n("van-popup",{attrs:{position:"top",overlay:!1},model:{value:o.dialogVisible,callback:function(e){o.dialogVisible=e},expression:"dialogVisible"}},[n("div",{staticClass:"cropper-container"},[n("vueCropper",{directives:[{name:"show",rawName:"v-show",value:o.option.img,expression:"option.img"}],ref:"cropper",refInFor:!0,attrs:{img:o.option.img,fixed:o.option.fixed,enlarge:o.option.enlarge,autoCrop:o.option.autoCrop,fixedNumber:o.option.fixedNumber,autoCropWidth:o.option.autoCropWidth,autoCropHeight:o.option.autoCropHeight}})],1),o._v(" "),n("div",{staticClass:"dialog-footer"},[n("van-button",{on:{click:function(e){o.dialogVisible=!1}}},[o._v("取 消")]),o._v(" "),n("van-button",{attrs:{type:"primary"},on:{click:o.stopCropFn}},[o._v("确 定")])],1)])],1)],1)}),o._v(" "),n("div",{staticClass:"log-out-btn title-18",on:{click:o.logout}},[n("span",[o._v("退出登录")])])],2)},staticRenderFns:[]};var d=o("VU/8")(u,l,!1,function(e){o("yv9V")},null,null);t.default=d.exports},yv9V:function(e,t){}});