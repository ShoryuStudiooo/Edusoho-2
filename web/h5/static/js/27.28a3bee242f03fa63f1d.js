webpackJsonp([27],{cLXl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("eqfM");var i=s("/QYm"),a=s("fZjL"),n=s.n(a),o=s("gyMJ"),c=s("OPcZ"),r=s("w/qc"),u={mixins:[c.a,r.a],data:function(){return{item:{},message:"",isReceive:!0}},computed:{couponStatus:function(){return n()(this.item).length?"coupon-receive-success":""}},created:function(){var e=this,t=this.$route.params.token;this.$store.state.token?t&&o.a.receiveCoupon({data:{token:t}}).then(function(t){e.item=t,e.message="恭喜您成功领取了一张优惠券！"}).catch(function(t){e.message="优惠券领取失败！",i.a.fail(t.message)}):this.$router.push({name:"login",query:{redirect:this.$route.fullPath}})}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"coupon-receive-page"},[s("div",{class:["coupon-card-bg","clearfix",e.couponStatus]},[s("div",{staticClass:"coupon-info"},[e._v(e._s(e.message))]),e._v(" "),Object.keys(e.item).length?s("div",{staticClass:"e-coupon__body"},[s("div",{staticClass:"e-coupon__header clearfix"},[s("span",{staticClass:"e-coupon__price",domProps:{innerHTML:e._s(e.priceHtml(e.item))}}),e._v(" "),s("div",{staticClass:"e-coupon__name"},[s("div",{staticClass:"text-overflow text-14 coupon-name"},[e._v(e._s(e.item.name))]),e._v(" "),e.item.deadlineMode&&"time"!==e.item.deadlineMode?e._e():s("span",{staticClass:"text-10"},[e._v(e._s(e.timeExpire(e.item.createdTime,e.item.deadline)))]),e._v(" "),"day"!==e.item.deadlineMode||e.item.currentUserCoupon?e._e():s("span",{staticClass:"text-10"},[e._v("领取后"+e._s(e.item.fixedDay)+"天内有效")]),e._v(" "),"day"===e.item.deadlineMode&&e.item.currentUserCoupon?s("span",{staticClass:"text-10"},[e._v(e._s(e.timeExpire(e.item.createdTime,e.item.currentUserCoupon.deadline)))]):e._e()]),e._v(" "),s("span",{staticClass:"coupon-button",on:{click:function(t){e.couponHandle(e.item,e.isReceive)}}},[e._v("去使用")])]),e._v(" "),s("div",{staticClass:"e-coupon__middle"}),e._v(" "),s("div",{staticClass:"e-coupon__bottom text-overflow"},[e._v("\n        可用范围："+e._s(e.scopeFilter(e.item))+"\n      ")])]):e._e()])])},staticRenderFns:[]},l=s("VU/8")(u,d,!1,null,null,null);t.default=l.exports}});